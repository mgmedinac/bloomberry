
{% extends "base.html" %}
{% load static i18n %}
{% load humanize %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/products.css' %}">
<link rel="stylesheet" href="{% static 'css/wishlist.css' %}">
{% endblock %}


{% block content %}
<h2>{% trans "Mis favoritos" %}</h2>

{% if messages %}
  <ul class="messages">
    {% for m in messages %}
      <li class="{{ m.tags }}">{{ m }}</li>
    {% endfor %}
  </ul>
{% endif %}

{% if items %}
  <div class="product-grid">
    {% for p in items %}
      <article class="product-card">
        <a class="product-media" href="{% url 'products:product_detail' p.id %}">
          {% if p.image %}
            <img src="{{ p.image.url }}" alt="{{ p.name }}">
          {% else %}
            <img src="{% static 'img/no-image.png' %}" alt="Sin imagen">
          {% endif %}
        </a>
        <div class="product-body">
          <h3 class="product-title">{{ p.name }}</h3>
          {% if p.price %}
            <div class="product-price">${{ p.price|floatformat:0|intcomma }}</div>
          {% endif %}
          <div class="product-actions">
            <a class="btn btn-primary btn-sm" href="{% url 'products:product_detail' p.id %}"> {% trans "Ver" %}</a>
            <a class="btn btn-outline btn-sm" href="{% url 'products:wishlist_remove' p.id %}"> {% trans "Quitar" %}</a>
          </div>
        </div>
      </article>
    {% endfor %}
  </div>
{% else %}
  <p class="muted"> trans Todav√≠a no has agregado productos a tu lista.</p>
{% endif %}
{% endblock %}
